<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <title>Swift.org - Standard Library Preview Package</title>
  <meta name="author" content="Apple Inc." />
  <meta name="viewport" content="width=device-width initial-scale=1" />
  <link rel="license" href="/LICENSE.txt" />
  <link rel="stylesheet" media="all" href="/assets/stylesheets/application.css" />
  <link rel="shortcut icon" sizes="16x16 24x24 32x32 48x48 64x64" type="image/vnd.microsoft.icon" href="/favicon.ico" />
  <link rel="apple-touch-icon" href="/apple-touch-icon.png" />
  <link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png" />
  <link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png" />
  <link rel="apple-touch-icon" sizes="76x76" href="/apple-touch-icon-76x76.png" />
  <link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png" />
  <link rel="apple-touch-icon" sizes="120x120" href="/apple-touch-icon-120x120.png" />
  <link rel="apple-touch-icon" sizes="144x144" href="/apple-touch-icon-144x144.png" />
  <link rel="apple-touch-icon" sizes="152x152" href="/apple-touch-icon-152x152.png" />
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon-180x180.png" />
  <link rel="mask-icon" href="/assets/images/icon-swift.svg" color="#F05339" />
  

  
  <link rel="canonical" href="https://swift.org/blog/preview-package/" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:site" content="@SwiftLang" />
  
  <meta name="twitter:title" content="Standard Library Preview Package" />
  <meta name="twitter:description" content="I’m excited to announce a new open-source package and an enhancement to the Swift Evolution process: the Standard Library Preview package! The preview package provides access to functionality that has been accepted into the Swift standard library through the Swift Evolution process, but has not yet shipped as part of an official Swift release. This will allow us to incorporate feedback informed by real-world usage and remove many of the technical obstacles to contributing to the standard library.
" />
  

  <meta property="og:site_name" content="Swift.org" />
  <meta property="og:image" content="https://swift.org/apple-touch-icon-180x180.png" />
  
  
  <meta property="og:type" content="article" />
  <meta property="og:title" content="Standard Library Preview Package" />
  <meta property="og:url" content="https://swift.org/blog/preview-package/" />
  <meta property="og:description" content="I’m excited to announce a new open-source package and an enhancement to the Swift Evolution process: the Standard Library Preview package! The preview package provides access to functionality that has been accepted into the Swift standard library through the Swift Evolution process, but has not yet shipped as part of an official Swift release. This will allow us to incorporate feedback informed by real-world usage and remove many of the technical obstacles to contributing to the standard library.
" />
  <meta property="article:published_time" content="2020-02-18T05:00:00-04:00" />
  <meta property="article:modified_time" content="2022-06-14T07:17:09-04:00" />
  
</head>

<body>
<script src="/assets/javascripts/color-scheme-toggle.js"></script>
<nav role="navigation">
  <div class="nav-menu-container">
    <header class="menu-item logo-container" role="banner">
      <h1 id="logo">
        <a href="/" title="Swift.org" role="img" aria-label="Swift.org">
          Swift.org
        </a>
      </h1>
    </header>
    <div id="menu-toggle" class="menu-item menu-toggle open"></div>
  </div>

  <div class="list-items">
    
    
    <ul>
      
      
      <li>
      
        <a href="/about/">About Swift</a>
        
      </li>
      
      
      <li>
      
        <a href="/blog/">Blog</a>
        
      </li>
      
      
      <li>
      
        <a href="/getting-started/">Getting Started</a>
        
      </li>
      
      
      <li>
      
        <a href="/download/">Download</a>
        
      </li>
      
      
      <li>
      
        <a href="/platform-support/">Platform Support</a>
        
      </li>
      
      
      <li>
      
        <a href="/documentation/">Documentation</a>
        
      </li>
      
    </ul>
    
    
    <h2>Community</h2>
    
    <ul>
      
      
      <li>
      
        <a href="/community/">Community Overview</a>
        
      </li>
      
      
      <li>
      
        <a href="/diversity/">Diversity</a>
        
      </li>
      
      
      <li>
      
        <a href="/mentorship/">Mentorship</a>
        
      </li>
      
      
      <li>
      
        <a href="/contributing/">Contributing</a>
        
      </li>
      
      
      <li>
      
        <a href="/code-of-conduct/">Code of Conduct</a>
        
      </li>
      
    </ul>
    
    
    <h2>Open Source Development</h2>
    
    <ul>
      
      
      <li>
      
        <a href="/source-code/">Source Code</a>
        
      </li>
      
      
      <li>
      
        <a href="/continuous-integration/">Continuous Integration</a>
        
      </li>
      
      
      <li>
      
        <a href="/source-compatibility/">Source Compatibility</a>
        
      </li>
      
      
      <li>
      
        <a href="/support/security.html">Security</a>
        
      </li>
      
    </ul>
    
    
    <h2>Open Source Efforts</h2>
    
    <ul>
      
      
      <li>
      
        <a href="/swift-compiler/">Swift Compiler</a>
        
      </li>
      
      
      <li>
      
        <a href="/standard-library/">Standard Library</a>
        
      </li>
      
      
      <li>
      
        <a href="/package-manager/">Package Manager</a>
        
      </li>
      
      
      <li>
      
        <a href="/core-libraries/">Core Libraries</a>
        
      </li>
      
      
      <li>
      
        <a href="/lldb/">REPL, Debugger & Playgrounds</a>
        
      </li>
      
      
      <li>
      
        <a href="/server/">Swift on Server</a>
        
      </li>
      
      
      <li>
      
        <a href="/website/">Swift.org website</a>
        
      </li>
      
    </ul>
    
  </div>
</nav>

<main role="main">
<article class="post">
  <header>
    <h1>Standard Library Preview Package</h1>

    <time pubdate datetime="2020-02-18T05:00:00-04:00">February 18, 2020</time>
    
    
    
      <div class="byline">
        
          <img src="https://s.gravatar.com/avatar/5f463dd4e7af28b64ad8f0e032ee82dc?s=64" alt="Nate Cook"/>
        

        <span class="author">
          
            <a href="https://twitter.com/nnnnnnnn/" rel="nofollow" title="Nate Cook (@nnnnnnnn) on Twitter">Nate Cook</a>
          
        </span>
      </div>
      
      <div class="about">Nate Cook is a member of the Swift standard library team at Apple.</div>
      
    
    
  </header>

  <p>I’m excited to announce a new open-source package and an enhancement to the Swift Evolution process: the <a href="https://github.com/apple/swift-standard-library-preview">Standard Library Preview package</a>! The preview package provides access to functionality that has been accepted into the Swift standard library through the <a href="https://github.com/apple/swift-evolution/blob/master/process.md">Swift Evolution process</a>, but has not yet shipped as part of an official Swift release. This will allow us to incorporate feedback informed by real-world usage and remove many of the technical obstacles to contributing to the standard library.</p>

<p>We’ve seeded the preview package with the functionality from the recently approved <a href="https://github.com/apple/swift-evolution/blob/master/proposals/0270-rangeset-and-collection-operations.md">SE-0270</a> proposal, which includes operations on subranges of collections, such as <code class="language-plaintext highlighter-rouge">subranges(where:)</code> and <code class="language-plaintext highlighter-rouge">moveSubranges(_:to:)</code>, as well as the supporting <code class="language-plaintext highlighter-rouge">RangeSet</code> type.</p>

<blockquote>
  <p><strong>Note</strong>: The Standard Library Preview package itself is a product of the Swift Evolution process! For more information, including the criteria for inclusion in the preview package, see <a href="https://github.com/apple/swift-evolution/blob/master/proposals/0264-stdlib-preview-package.md">SE-0264</a>.</p>
</blockquote>

<h2 id="using-the-preview-package">Using the Preview Package</h2>

<p>To use the Standard Library Preview package in a Swift Package Manager project, add it to your <code class="language-plaintext highlighter-rouge">Package.swift</code> file as a package dependency and a target dependency:</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">let</span> <span class="nv">package</span> <span class="o">=</span> <span class="kt">Package</span><span class="p">(</span>
    <span class="nv">name</span><span class="p">:</span> <span class="s">"MyPackage"</span><span class="p">,</span>
    <span class="nv">dependencies</span><span class="p">:</span> <span class="p">[</span>
       <span class="o">.</span><span class="nf">package</span><span class="p">(</span><span class="nv">url</span><span class="p">:</span> <span class="s">"https://github.com/apple/swift-standard-library-preview.git"</span><span class="p">,</span> <span class="nv">from</span><span class="p">:</span> <span class="s">"0.0.1"</span><span class="p">),</span>
    <span class="p">],</span>
    <span class="nv">targets</span><span class="p">:</span> <span class="p">[</span>
        <span class="o">.</span><span class="nf">target</span><span class="p">(</span>
            <span class="nv">name</span><span class="p">:</span> <span class="s">"MyTarget"</span><span class="p">,</span>
            <span class="nv">dependencies</span><span class="p">:</span> <span class="p">[</span><span class="o">.</span><span class="nf">product</span><span class="p">(</span><span class="nv">name</span><span class="p">:</span> <span class="s">"StandardLibraryPreview"</span><span class="p">,</span> <span class="nv">package</span><span class="p">:</span> <span class="s">"swift-standard-library-preview"</span><span class="p">)]),</span>
    <span class="p">]</span>
<span class="p">)</span>
</code></pre></div></div>

<p>… and take SE-0270 for a spin:</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">import</span> <span class="kt">StandardLibraryPreview</span>

<span class="k">var</span> <span class="nv">numbers</span> <span class="o">=</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="o">-</span><span class="mi">5</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="o">-</span><span class="mi">9</span><span class="p">,</span> <span class="mi">15</span><span class="p">]</span>
<span class="k">let</span> <span class="nv">negatives</span> <span class="o">=</span> <span class="n">numbers</span><span class="o">.</span><span class="nf">subranges</span><span class="p">(</span><span class="nv">where</span><span class="p">:</span> <span class="p">{</span> <span class="nv">$0</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="p">})</span>
<span class="c1">// numbers[negatives].count == 3</span>

<span class="n">numbers</span><span class="o">.</span><span class="nf">moveSubranges</span><span class="p">(</span><span class="n">negatives</span><span class="p">,</span> <span class="nv">to</span><span class="p">:</span> <span class="mi">0</span><span class="p">)</span>
<span class="c1">// numbers == [-5, -3, -9, 10, 12, 14, 15]</span>
</code></pre></div></div>

<p>As new additions to the standard library are approved, they’ll be added to the preview package as part of the Swift Evolution process.</p>

<p>Even though all additions go through a thorough review, <em>there is no substitute for feedback informed by real-world usage</em>. Sometimes we discover that an API is not quite as good as it might have been. The preview package will help us address such discoveries, by creating an opportunity for feedback to lead to changes before APIs are locked in and shipped in an official Swift release.</p>

<h2 id="using-standalone-packages">Using Standalone Packages</h2>

<p>The Standard Library Preview package is under continuous development, and maintains a major version of <code class="language-plaintext highlighter-rouge">0</code> to indicate that it is not intended to be source stable. If you require source stability in your project, each approved standard library proposal is also available as a standalone package. The preview package is actually an umbrella library, which re-exports each of these individual packages.</p>

<p>For example, the functionality for SE-0270 is available as the standalone <a href="https://github.com/apple/swift-se0270-range-set/">SE0270_RangeSet</a> package. So if you only ever want SE-0270, you can add it to your <code class="language-plaintext highlighter-rouge">Package.swift</code> file as a package dependency and a target dependency:</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">let</span> <span class="nv">package</span> <span class="o">=</span> <span class="kt">Package</span><span class="p">(</span>
    <span class="nv">name</span><span class="p">:</span> <span class="s">"MyPackage"</span><span class="p">,</span>
    <span class="nv">dependencies</span><span class="p">:</span> <span class="p">[</span>
       <span class="o">.</span><span class="nf">package</span><span class="p">(</span><span class="nv">url</span><span class="p">:</span> <span class="s">"https://github.com/apple/swift-se0270-range-set.git"</span><span class="p">,</span> <span class="nv">from</span><span class="p">:</span> <span class="s">"1.0.0"</span><span class="p">),</span>
    <span class="p">],</span>
    <span class="nv">targets</span><span class="p">:</span> <span class="p">[</span>
        <span class="o">.</span><span class="nf">target</span><span class="p">(</span>
            <span class="nv">name</span><span class="p">:</span> <span class="s">"MyTarget"</span><span class="p">,</span>
            <span class="nv">dependencies</span><span class="p">:</span> <span class="p">[</span><span class="o">.</span><span class="nf">product</span><span class="p">(</span><span class="nv">name</span><span class="p">:</span> <span class="s">"SE0270_RangeSet"</span><span class="p">,</span> <span class="nv">package</span><span class="p">:</span> <span class="s">"swift-se0270-range-set"</span><span class="p">)]),</span>
    <span class="p">]</span>
<span class="p">)</span>
</code></pre></div></div>

<p>… and import just SE-0270:</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">import</span> <span class="kt">SE0270_RangeSet</span>

<span class="k">var</span> <span class="nv">numbers</span> <span class="o">=</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="o">-</span><span class="mi">5</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="o">-</span><span class="mi">9</span><span class="p">,</span> <span class="mi">15</span><span class="p">]</span>
<span class="k">let</span> <span class="nv">negatives</span> <span class="o">=</span> <span class="n">numbers</span><span class="o">.</span><span class="nf">subranges</span><span class="p">(</span><span class="nv">where</span><span class="p">:</span> <span class="p">{</span> <span class="nv">$0</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="p">})</span>
<span class="c1">// numbers[negatives].count == 3</span>

<span class="n">numbers</span><span class="o">.</span><span class="nf">moveSubranges</span><span class="p">(</span><span class="n">negatives</span><span class="p">,</span> <span class="nv">to</span><span class="p">:</span> <span class="mi">0</span><span class="p">)</span>
<span class="c1">// numbers == [-5, -3, -9, 10, 12, 14, 15]</span>
</code></pre></div></div>

<h2 id="proposing-as-a-package">Proposing as a Package</h2>

<p>We require each standard library feature proposal to include a full implementation before the review process begins. However, we realize that not everyone has the time and resources to build the whole stack—including LLVM, Clang, and the Swift compiler—just to change a part of the standard library.</p>

<p>Going forward, you can provide your implementation as a standalone SwiftPM package by opening a pull request against the new <a href="https://github.com/apple/swift-evolution-staging">Swift Evolution staging</a> repository. This more approachable way of proposing a feature should eliminate many of the technical obstacles to contributing to the standard library.</p>

<p>Once a proposal is approved, it will be made available as part of the Standard Library Preview package in order to garner feedback before being included in an official Swift release.</p>

<h2 id="get-involved">Get Involved!</h2>

<p>If you’re interested in participating in the review process and determining the direction of Swift, please visit the <a href="https://forums.swift.org/c/evolution">Evolution section of the Swift forums</a>. Everyone is welcome to propose, discuss, and review ideas to improve the Swift language and standard library!</p>

<h3 id="questions">Questions?</h3>

<p>Please feel free to post questions about this post on the <a href="https://forums.swift.org/t/swift-org-blog-standard-library-preview-package/33916">associated thread</a> on the <a href="https://forums.swift.org">Swift forums</a>.</p>



  
  <footer>
    <nav>
      
      <a href="/blog/library-evolution/" rel="prev" title="Previous: Library Evolution in Swift">Library Evolution in Swift</a>
      

      
      <a href="/blog/argument-parser/" rel="next" title="Next: Announcing ArgumentParser">Announcing ArgumentParser</a>
      
    </nav>
  </footer>
  
</article>
</main>



<footer role="contentinfo">
  <div class="footer-content">
    
  <p>Except where otherwise noted, all content on this blog is licensed under a <a href="https://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International license</a>.</p>

    <p class="copyright">Copyright © 2022 Apple Inc. All rights reserved.</p>
    <p class="trademark">Swift and the Swift logo are trademarks of Apple Inc.</p>
    <p class="privacy">
      <a href="//www.apple.com/privacy/privacy-policy/">Privacy Policy</a>
      <a href="//www.apple.com/legal/privacy/en-ww/cookies/">Cookies</a>
    </p>
  </div>
  <div class="footer-other">
    <form
      class="color-scheme-toggle"
      role="radiogroup"
      tabindex="0"
      id="color-scheme-toggle"
    >
      <legend class="visuallyhidden">Color scheme preference</legend>
      <label for="scheme-light">
        <input id="scheme-light" type="radio" name="color-scheme-preference" value="light">
        <span class="color-scheme-toggle-label">Light</span>
      </label>
      <label for="scheme-dark">
        <input id="scheme-dark" type="radio" name="color-scheme-preference" value="dark">
        <span class="color-scheme-toggle-label">Dark</span>
      </label>
      <label for="scheme-auto" id="scheme-auto-wrapper">
        <input id="scheme-auto" type="radio" name="color-scheme-preference" value="auto">
        <span class="color-scheme-toggle-label">Auto</span>
      </label>
    </form>
    <aside>
      <a href="https://twitter.com/swiftlang" rel="nofollow" title="Follow @SwiftLang on Twitter"><i class="twitter"></i></a>
      <a href="/atom.xml" title="Subscribe to Site Updates"><i class="feed"></i></a>
    </aside>
  </div>
</footer>


<script src="/assets/javascripts/application.js"></script>
<!-- metrics -->
<script>
    /* RSID: */
    var s_account="awdswiftorg"
</script>
<script src="https://developer.apple.com/assets/metrics/scripts/analytics.js"></script>
<script>
    s.pageName= AC && AC.Tracking && AC.Tracking.pageName();

    /************* DO NOT ALTER ANYTHING BELOW THIS LINE ! **************/
    var s_code=s.t();if(s_code)document.write(s_code)
</script>
<!-- /metrics -->
</body>
</html>
